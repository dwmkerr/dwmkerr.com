<!doctype html><html prefix="og: http://ogp.me/ns#"><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Effective Shell Part 6: Everything You Don't Need To Know About Job Control &#183; Dave Kerr</title><meta name=description content="Job control is a feature of most shells, which is generally not particularly intuitive to work with. However, knowing the basics can help prevent you from getting yourself into a tangle, and can from time to time make certain tasks a little easier.
In this chapter, we'll look at the main features of job control, why it can be a problematic, and some alternatives.
 Part 1: Navigating the Command Line Part 2: Become a Clipboard Gymnast Part 3: Getting Help Part 4: Moving Around Part 5: Interlude - Understanding the Shell Part 6: Everything You Don't Need to Know About Job Control Part 7: The Subtleties of Shell Commands  What Is Job Control?"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=generator content="Hugo 0.61.0"><meta name=robots content="index,follow"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="Effective Shell Part 6: Everything You Don't Need To Know About Job Control"><meta property="og:description" content="Job control is a feature of most shells, which is generally not particularly intuitive to work with. However, knowing the basics can help prevent you from getting yourself into a tangle, and can from time to time make certain tasks a little easier.
In this chapter, we'll look at the main features of job control, why it can be a problematic, and some alternatives.
 Part 1: Navigating the Command Line Part 2: Become a Clipboard Gymnast Part 3: Getting Help Part 4: Moving Around Part 5: Interlude - Understanding the Shell Part 6: Everything You Don't Need to Know About Job Control Part 7: The Subtleties of Shell Commands  What Is Job Control?"><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/effective-shell-6-job-control/"><link rel=stylesheet href=http://example.org/dist/styles.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous></head><body><script type=application/javascript>var dnt=(navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack);var doNotTrack=(dnt=="1"||dnt=="yes");if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-41728580-1','auto');ga('set','anonymizeIp',true);ga('send','pageview');}</script><div id=wrapper><header class=site-header><div class=container><div class=site-title-wrapper><h1 class=site-title><a title=dwmkerr.com href=http://example.org/>dwmkerr.com</a></h1><a class=button-square href=http://example.org/index.xml><i class="fa fa-rss"></i></a><a class="button-square button-social hint--top" data-hint=Twitter title=Twitter href=https://twitter.com/dwmkerr rel=me><i class="fa fa-twitter"></i></a><a class="button-square button-social hint--top" data-hint=Github title=Github href=https://github.com/dwmkerr rel=me><i class="fa fa-github-alt"></i></a><a class="button-square button-social hint--top" data-hint="Stack Overflow" title="Stack Overflow" href=https://stackoverflow.com/users/1189164/dave-kerr rel=me><i class="fa fa-stack-overflow"></i></a><a class="button-square button-social hint--top" data-hint=LinkedIn title=LinkedIn href=https://www.linkedin.com/in/dwmkerr/ rel=me><i class="fa fa-linkedin"></i></a></div><ul class=site-nav><li class=site-nav-item><a title=Blog href=/>Blog</a></li><li class=site-nav-item><a title=Speaking href=/page/speaking/>Speaking</a></li><li class=site-nav-item><a title=About href=/page/about/>About</a></li></ul></div></header><div id=container><div class=container><article class=post-container itemscope itemtype=http://schema.org/BlogPosting><header class=post-header><h1 class=post-title itemprop="name headline">Effective Shell Part 6: Everything You Don't Need To Know About Job Control</h1><p class="post-date post-line"><span>Published <time datetime=2019-06-10 itemprop=datePublished>Mon, Jun 10, 2019</time></span>
<span>by</span>
<span itemscope itemprop=author itemtype=https://schema.org/Person><span itemprop=name><a href=https://github.com/dwmkerr itemprop=url rel=author>Dave Kerr</a></span></span></p></header><div class="post-content clearfix" itemprop=articleBody><img class=post-featured-image src=/images/2019/06/move-to-background-1.gif><p><em>Job control</em> is a feature of most shells, which is generally not particularly intuitive to work with. However, knowing the basics can help prevent you from getting yourself into a tangle, and can from time to time make certain tasks a little easier.</p><p>In this chapter, we'll look at the main features of job control, why it can be a problematic, and some alternatives.</p><ul><li><a href=https://www.dwmkerr.com/effective-shell-part-1-navigating-the-command-line/>Part 1: Navigating the Command Line</a></li><li><a href=https://www.dwmkerr.com/effective-shell-part-2-become-a-clipboard-gymnast/>Part 2: Become a Clipboard Gymnast</a></li><li><a href=https://www.dwmkerr.com/effective-shell-part-3-getting-hepl/>Part 3: Getting Help</a></li><li><a href=https://dwmkerr.com/effective-shell-4-moving-around/>Part 4: Moving Around</a></li><li><a href=https://dwmkerr.com/effective-shell-part-5-understanding-the-shell/>Part 5: Interlude - Understanding the Shell</a></li><li><strong><a href=https://dwmkerr.com/effective-shell-6-job-control/>Part 6: Everything You Don't Need to Know About Job Control</a></strong></li><li><a href=https://dwmkerr.com/effective-shell-7-shell-commands/>Part 7: The Subtleties of Shell Commands</a></li></ul><h2 id=what-is-job-control>What Is Job Control?</h2><p>Let's start with an example. I am building a simple web page. It has one <code>index.html</code> file, one <code>styles.css</code> file, and one <code>code.js</code> file. The <code>index.html</code> file looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>html</span>&gt;
  &lt;<span style=color:#f92672>head</span>&gt;
    &lt;<span style=color:#f92672>title</span>&gt;My New Project&lt;/<span style=color:#f92672>title</span>&gt;
    &lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;stylesheet&#34;</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text/css&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;styles.css&#34;</span>&gt;
    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;code.js&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
  &lt;/<span style=color:#f92672>head</span>&gt;
  &lt;<span style=color:#f92672>body</span>&gt;
    <span style=color:#75715e>&lt;!--</span><span style=color:#75715e> Snip... </span><span style=color:#75715e>--&gt;</span>
  &lt;/<span style=color:#f92672>body</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><p>Opening the file in a browser doesn't quite work, as it won't load the code or the styles. We need a web server to serve styles and code.</p><p>A super-useful one-liner to run a web server on any machine with Python installed is:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span>
</code></pre></div><p>In fact, this is so useful that I normally <em>alias</em> this command, so that I can just type <code>serve</code>. We'll see aliases in a later chapter.</p><p>For now, if we run this command (you can get <a href=https://github.com/dwmkerr/effective-shell/tree/master/6-job-control/sample>the three sample files here</a> if you want to try this yourself), then we can open the webpage in a browser, with the styles and code loaded:</p><p><img alt="Screenshot: Website" src=/images/2019/06/website-screenshot.png width=600></p><p>We can also see that the server has served the HTML, JavaScript, and CSS files:</p><p><img alt="Screenshot: Server" src=/images/2019/06/server-screenshot.png width=600></p><p>All well and good so far.</p><h2 id=the-problem>The Problem</h2><p>Let's say we want to now continue using our shell, maybe to edit the website with a terminal editor like Vim or Emacs, or we want to zip up the site, or just run any shell command<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>We have a problem. The <code>python</code> process is still running - it's serving the website. Our shell is essentially useless, until we stop the server. See what happens when I try to edit a file:</p><p><img alt="Demo: Blocked Shell" src=/images/2019/06/blocked-shell.gif width=600></p><p>In the example above, I try to run <code>vi</code>, but nothing is happening. Standard input is not being read by the server and not being interpreted by the shell.</p><p>I have to kill the server by hitting <code>Ctrl+C</code> (which sends a <code>SIGINT</code><sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> - we'll see more about signals later), clear my screen to get rid of all of the error messages, then start again.</p><p>This is obviously not optimal. Let's look at some solutions.</p><h2 id=solution-1-start-the-server-in-the-background>Solution 1: Start the Server in the Background</h2><p>In most shells, you can run a command and instruct the shell to run it in the <em>background</em>. To do this, you end the line with an ampersand. Here's how the example would look in this case:</p><p><img alt="Demo: Starting a Background Job" src=/images/2019/06/start-in-background.gif width=600></p><p>By ending the command with an <code>&</code> ampersand symbol, we instruct the shell to run the command as a <em>background job</em>. This means that our shell is still functional. The shell has also notified us that this command is running as a background job with a specific <em>job number</em>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>% python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span> &amp;
<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span> <span style=color:#ae81ff>19372</span>
</code></pre></div><p>In slightly obtuse language, the shell has informed us that it has started a job in the background, with job number <code>1</code> and that this job is currently handling the process with ID <code>19372</code>.</p><p>The ampersand solution is a fairly common pattern used in day-to-day work.</p><h2 id=solution-2-move-the-server-to-the-background>Solution 2: Move the Server to the Background</h2><p>Let's say you forgot to start the command in the background. Most likely in this case you'd kill the server with <code>Ctrl+C</code> and then start it again with the <code>&</code> option. However, what if this was a large file download or a task you didn't want to abort?</p><p>In the example below, we'll move the job to the background:</p><p><img alt="Demo: Moving a Job to the Background" src=/images/2019/06/move-to-background.gif width=600></p><p>The process is currently in the foreground, so my shell is inactive. Hitting <code>Ctrl+Z</code> sends a &lsquo;suspend&rsquo; signal to the process<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>, pausing it and moving it to the background.</p><p>Let's dissect this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>% python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span>
Serving HTTP on 0.0.0.0 port <span style=color:#ae81ff>3000</span> ...
127.0.0.1 - - <span style=color:#f92672>[</span>03/Jun/2019 13:38:45<span style=color:#f92672>]</span> <span style=color:#e6db74>&#34;GET / HTTP/1.1&#34;</span> <span style=color:#ae81ff>200</span> -
^Z
<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span>  + <span style=color:#ae81ff>21268</span> suspended  python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span>
</code></pre></div><p>The shell echos as I type, so we see <code>^Z</code> (i.e., the <code>Ctrl+Z</code> chord I entered). The shell responds by moving the process into a background job and suspending it.</p><p>The key here is that it is <em>suspended</em>. The process is paused. So the web server is no longer serving. If you are following with the sample, reload your browser. The webpage fails to load, as the server process is not able to respond to requests.</p><p>To <em>continue</em> the job, in the background, we use the <code>bg</code> (&lsquo;background&rsquo;) command, with a <em>job identifier</em> (which always starts with a <code>%</code> symbol - we'll see why soon) to tell the shell to continue the job:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>% bg %1
<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span>  + <span style=color:#ae81ff>21268</span> continued  python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span>
</code></pre></div><p>The shell lets us know the job is being continued, and if we load the webpage again, the content is shown as expected.</p><p>As a final check, we run the <code>jobs</code> command to see what jobs the shell is running:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>% jobs
<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span>  + running    python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span>
</code></pre></div><p>And there you have it - our server is running as a background job. This is exactly what we would see if we run <code>jobs</code> after starting the server with an <code>&</code> at the end. In fact, using an <code>&</code> is perhaps an easier way to remember how to continue a suspended job:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>% %1 &amp;
<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span>  + <span style=color:#ae81ff>21268</span> continued  python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span>
</code></pre></div><p>In the same way ending a command with <code>&</code> runs it in the background, ending a job identifier with <code>&</code> <em>continues</em> it in the background.</p><p>There is at least one more way to move a job to the background<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>, but I have not yet found it useful in any scenarios, and it is overly complex to explain. See the footnote for details if you are interested.</p><h2 id=moving-background-jobs-to-the-foreground>Moving Background Jobs to the Foreground</h2><p>If you have a job in the background, you can bring it back to the foreground with the <code>fg</code> (&lsquo;foreground&rsquo;) command. Let's show the jobs, with the <code>jobs</code> command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>% jobs
<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span>  + running    python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span>
</code></pre></div><p>Here I have a background job running a server. Any one of the following commands will bring it back to the foreground:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>fg %1   <span style=color:#75715e># Explicitly bring Job 1 into the foreground</span>

%1      <span style=color:#75715e># ...or in shorthand, just enter the job id...</span>

fg      <span style=color:#75715e># ...if not given an id, fg and bg assume the most recent job.</span>
</code></pre></div><p>Now the job is in the foreground, and you can interact with the process again however you like.</p><h2 id=cleaning-up-jobs>Cleaning Up Jobs</h2><p>You might realise you cannot continue what you are doing because an old job is <em>still running</em>. Here's an example:</p><p><img alt="Demo: Cleaning Up Jobs" src=/images/2019/06/kill-job.gif width=600></p><p>I tried to run my web server, but there was still one running as a background job. The server failed to start because the port is in use.</p><p>To clean it up, I run the <code>jobs</code> command to list the jobs:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>% jobs
<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span>  + suspended  python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span>
</code></pre></div><p>There's my old web server. Note that even though it is suspended, it'll still be blocking the port it is serving on<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup>. The process is paused, but it is still holding onto all of the resources it is using.</p><p>Now that I know the job identifier (<code>%1</code> in this case), I can kill the job:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>% kill %1
<span style=color:#f92672>[</span>1<span style=color:#f92672>]</span>  + <span style=color:#ae81ff>22843</span> terminated  python -m SimpleHTTPServer <span style=color:#ae81ff>3000</span>
</code></pre></div><p><em>This is why job identifiers start with a percentage sign!</em> The <code>kill</code> command I have used is not a special job control command (like <code>bg</code> or <code>fg</code>). It is the normal <code>kill</code> command, which terminates a process. But shells that support job control can normally use a job identifier in place of a <em>process identifier</em>. So rather than working out what the process identifier is that I need to kill, I can just use the job identifier<sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup>.</p><h2 id=why-you-shouldnt-use-jobs>Why You Shouldn't Use Jobs</h2><p>Avoid jobs. They are not intuitive to interface with, and they suffer from some serious problems.</p><p>The most obvious one is that all jobs write to the same output, meaning you can quickly get garbled output like this:</p><p><img alt="Screenshot: Garbled Output" src=/images/2019/06/output.png width=600></p><p>This is what happens when I run a job, which just outputs text every second. It's in the background, but it's printing all over my commands. Even running the <code>jobs</code> command to try and find the job to stop it is difficult.</p><p>Input is even more complex. If a job is <em>running</em> in the background, but requires input, it will be <em>silently suspended</em>. This can cause confusion.</p><p>Jobs <em>can</em> be used in scripts but must be done so with caution and could easily confuse a consumer of the script if they leave background jobs hanging around, which cannot be easily cleaned up<sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup>.</p><p>Handling errors and exit codes for jobs can be problematic, causing confusion, poor error handling, or overly complex code.</p><h2 id=how-to-escape-jobs>How to Escape Jobs</h2><p>If there are two things to take away, it would be this:</p><blockquote><p>If you have started running a command in the foreground, and you don't want to stop it and would rather move it to the background, hit <code>Ctrl+Z</code>. Then Google &ldquo;job control&rdquo;.</p></blockquote><p>And:</p><blockquote><p>If you think there is a job running in the background, and it is messing with your screen, type <code>fg</code> to bring it to the front and kill it with <code>Ctrl+C</code>. Repeat as needed!</p></blockquote><p>In either case, if you need to do something more subtle, you can return to this reference. But the first command should allow you to get your shell back while you work out how to continue the job, and the second should kill a background job that is messing with your screen.</p><h2 id=alternatives-to-jobs>Alternatives to Jobs</h2><p>If you are using any kind of modern terminal such as iTerm, Terminal or the GNOME Terminal, just open a new tab or split! Much easier.</p><p>The benefit to this is that each tab gets its own standard input and output, so there's no risk of overwriting. And of course you can hide/reveal/rearrange the tabs however you like.</p><p>The traditional alternative to a job for an operator who simply wants more than one thing going on at once would be a <em>terminal multiplexer</em>, such as <code>screen</code> or <code>tmux</code>:</p><p><img src=/images/2019/06/terminal-multiplexer.gif alt=terminal-multiplexer></p><p>Multiplexers work in a very similar way to a modern graphical terminal - they manage many shell instances. The benefits to a modern terminal, such as iTerm, is that you have a very intuitive GUI and lots of features.</p><p>The benefits to a multiplexer are that you can run them over SSH sessions to manage complex operations on remote machines and that they run a client-server model, meaning many people can work with many multiplexed processes (and they can persist beyond sessions).</p><p>My personal preference is both - I use a modern terminal <em>and</em> run everything inside it in <code>tmux</code>. We'll look at both of these options in later chapters.</p><h2 id=quick-reference>Quick Reference</h2><p>You might find that jobs are useful, or you might find that they are not. Either way, here's a quick reference of some common commands:</p><table><thead><tr><th>Command</th><th>Usage</th></tr></thead><tbody><tr><td><code>command &</code></td><td>Run the command as a background job.</td></tr><tr><td><code>&lt;Ctrl+Z></code></td><td>Move the current process into a background job, suspended.</td></tr><tr><td><code>jobs</code></td><td>List all jobs.</td></tr><tr><td><code>fg %1</code></td><td>Move background job number 1 into the foreground.</td></tr><tr><td><code>bg %1</code></td><td>Continue background job number 1.</td></tr><tr><td><code>kill %1</code></td><td>Terminate job number 1.</td></tr><tr><td><code>wait %1</code></td><td>Block until job number 1 exits.</td></tr></tbody></table><p>If you want to find out more about the gory details of jobs, the best place to start is the <a href=https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Job-Control>Bash Manual - Job Control Section</a>, or the &lsquo;Job Control&rsquo; section of your preferred shell's manual.</p><p>I hope you found this useful, and, as always, please leave comments, questions or suggestions below!</p><hr><h2 id=footnotes>Footnotes</h2><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>If you are not a heavy shell user, this might seem unlikely. But if you do a lot of work in shells, such as sysadmin, devops, or do your coding from a terminal, this happens all the time! <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>Signals like <code>SIGINT</code>, <code>SIGKILL</code>, <code>SIGTERM</code> and so on will be covered in a later chapter. <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3 role=doc-endnote><p>Technically, <code>SIGTSTP</code> - which is &lsquo;TTY stop&rsquo;. If you have always wondered about the &lsquo;TTY&rsquo; acroynm, check the previous chatper, <a href=https://dwmkerr.com/effective-shell-part-5-understanding-the-shell/>Interlude: Understanding the Shell</a>. <a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4 role=doc-endnote><p>The alternative method is to use <code>Ctrl+Y</code>, which will send a <em>delayed interrupt</em>, which will continue to run the process until it tries to read from <code>stdin</code>. At this point, the job is suspended and the control given to the shell. The operator can then use <code>bg</code> or <code>kill</code> or <code>fg</code> to either move to the background, stop the process, or keep in the foreground as preferred. See: <a href=https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Job-Control>https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Job-Control</a> <a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5 role=doc-endnote><p>Another super-useful snippet: <code>lsof -i -P -n | grep 8000</code> to find any process that has a given port open. Another one for the aliases chapter! <a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6 role=doc-endnote><p>There are times this is needed. If a job runs <em>many processes</em> - for example, by running a pipeline - the process identifier will change as the command moves from one stage of the pipeline to the next. The job identifier will remain constant. Remember, a job is a shell <em>command</em>, so could run many processes. <a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:7 role=doc-endnote><p>To see how bad this can be, create a script that starts jobs, then run it. Then run the <code>jobs</code> command to see what is running. The output might surprise you! <a href=#fnref:7 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><footer class="post-footer clearfix"><p class=post-tags><span>Tagged:</span>
<a href=/tags/EffectiveShell/>EffectiveShell</a>,
<a href=/tags/Shell/>Shell</a>,
<a href=/tags/CodeProject/>CodeProject</a>,
<a href=/tags/Bash/>Bash</a>,
<a href=/tags/Devops/>Devops</a>,
<a href=/tags/Linux/>Linux</a>,
<a href=/tags/SysAdmin/>SysAdmin</a></p><div class=share><a class=icon-twitter href="https://twitter.com/share?text=Effective%20Shell%20Part%206%3a%20Everything%20You%20Don%27t%20Need%20To%20Know%20About%20Job%20Control&url=http%3a%2f%2fexample.org%2feffective-shell-6-job-control%2f" onclick="window.open(this.href,'twitter-share','width=550,height=235');return false;"><i class="fa fa-twitter"></i><span class=hidden>Twitter</span></a>
<a class=icon-facebook href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fexample.org%2feffective-shell-6-job-control%2f" onclick="window.open(this.href,'facebook-share','width=580,height=296');return false;"><i class="fa fa-facebook"></i><span class=hidden>Facebook</span></a></div></footer><div class=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"dmwkerr"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></div></div></div><footer class=footer><div class=container><div class=site-title-wrapper><h1 class=site-title><a title=dwmkerr.com href=http://example.org/>dwmkerr.com</a></h1><a class="button-square button-jump-top js-jump-top" href=#><i class="fa fa-angle-up"></i></a></div><p class=footer-copyright><span>&copy; 2019 / Powered by <a href=https://gohugo.io/>Hugo</a></span></p><p class=footer-copyright><span><a href=https://github.com/roryg/ghostwriter>Ghostwriter theme</a> By <a href=http://jollygoodthemes.com>JollyGoodThemes</a></span>
<span>/ <a href=https://github.com/jbub/ghostwriter>Ported</a> to Hugo By <a href=https://github.com/jbub>jbub</a></span></p></div></footer><script src=http://example.org/js/jquery-1.11.3.min.js></script><script src=http://example.org/js/jquery.fitvids.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script src=http://example.org/js/scripts.js></script></body></html>