{{ partial "header.html" . }}
<article class="p-article">
  <header>
    <h1>{{ .Title }}</h1>
  </header>
  {{ with .Params.thumbnail }}
    <img src="{{ . }}" alt="thumbnail" class="p-article__thumbnail">
  {{ end }}
  <section id="js-article" class="p-article__body">
    {{ .Content }}
  </section>
  {{ if eq (.Type | singularize) "post" }}
  <div class="c-tags">
    {{ range .Params.tags }}
    <a href="{{ absURL "tags"}}/{{ . | urlize }}" class="c-tag">{{ . }}</a>
    {{ end }}
  </div>
  {{ end }}
  {{ if eq (.Type | singularize) "post" }}
  {{ if not (.Param "hideDate") }}
  <div class="c-article-date">
    <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" | safeHTML }}">
      {{ .Date.Format "Jan 2, 2006" }}
    </time>
  </div>
  {{ end }}
  {{ end }}
  {{ with .Params.discussion }}
  <div class="p-article__discussion">
    <a href="{{ . }}" target="_blank" rel="noopener">Discuss on Hacker News</a>
  </div>
  {{ end }}
  <footer>
    {{ if eq (.Type | singularize) "page" }}
    <div>
	    <div class="c-last-update">
		    Last Update:
		    <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" | safeHTML }}">
			    {{ .Date.Format "Jan 2, 2006" }}
		    </time>
	    </div>
    </div>
    {{ else }}
    {{ partial "comment_custom.html" . }}
    {{ with ($.Param "disqus") }}
    <div id="disqus_thread"></div>
    <script>
    var disqus_shortname = '{{ . }}';
    (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    {{ end }}
    <nav class="p-pagination c-pagination">
      <div class="c-pagination__ctrl">
        <div class="c-pagination__newer">
          {{ if .NextInSection }}
          <a href="{{ .NextInSection.Permalink }}">Newer</a>
          {{ end }}
        </div>
        <div class="c-pagination__older">
          {{ if .PrevInSection }}
          <a href="{{ .PrevInSection.Permalink }}">Older</a>
          {{ end }}
        </div>
      </div>
    </nav>
    {{ end }}
    {{ partial "related.html" . }}
    {{ partial "siteinfo.html" . }}
  </footer>
</article>
{{ partial "footer.html" . }}
